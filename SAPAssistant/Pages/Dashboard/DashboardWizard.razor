@using SAPAssistant.ViewModels
@inject DashboardWizardViewModel VM

<div class="dashboard-wizard">
    <h2>âœ¨ Crea tu nuevo KPI</h2>

    <EditForm Model="VM.NewKpiModel" OnValidSubmit="VM.CreateKPI">
        <InputText @bind-Value="VM.NewKpiModel.Prompt" placeholder="Â¿QuÃ© quieres consultar?" class="input-prompt" />
        <select @bind="VM.NewKpiModel.ChartType" class="select-chart-type">
            <option value="bar">ðŸ“Š GrÃ¡fico de Barras</option>
            <option value="pie">ðŸ¥§ GrÃ¡fico de Pastel</option>
            <option value="number">ðŸ”¢ NÃºmero</option>
        </select>
        <button type="submit" class="btn-submit">Agregar al Dashboard</button>
    </EditForm>

    <button class="btn-cancel" @onclick="VM.Cancel">Cancelar</button>
</div>

@code {
    [Parameter]
    public EventCallback OnFinished { get; set; }

    protected override void OnParametersSet()
    {
        VM.OnFinished = OnFinished;
    }
}
