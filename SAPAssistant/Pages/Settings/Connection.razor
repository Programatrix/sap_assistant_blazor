@page "/conexiones"
@layout PostLoginLayout
@using SAPAssistant.Components.Connection
@using SAPAssistant.ViewModels

@inject ConnectionSelectionViewModel VM

<div class="conexiones-wrapper">
    <h2>üîó Selecciona una conexi√≥n activa</h2>
    <p>Necesitas una conexi√≥n activa para usar el asistente.</p>

    <ConnectionManager OnConnectionActivated="VM.HandleConnectionActivated" EsModal="false" />

    @if (VM.MostrarAviso)
    {
        <div class="mensaje-error mt-4">
            ‚ö†Ô∏è La conexi√≥n previamente activa ya no es v√°lida.
        </div>
    }

    @if (VM.HayConexionActiva)
    {
        <div class="volver-btn">
            <button class="btn btn-primary" @onclick="VM.VolverHome">
                ‚úÖ Volver al inicio
            </button>
        </div>
    }
</div>

@code {
    protected override async Task OnInitializedAsync()
    {
        await VM.InitializeAsync();
    }
}

