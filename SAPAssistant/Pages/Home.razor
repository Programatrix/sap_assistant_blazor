@page "/home"
@attribute [Authorize]
@layout AssistantLayout
@using SAPAssistant.ViewModels
@inject HomeViewModel VM

<div class="home-container">

    <!-- Encabezado -->
    <h1 class="home-title">👋 ¡Hola, @VM.UserName!</h1>
    <p class="home-subtitle">Hoy es @VM.TodayDate. ¿En qué puedo ayudarte hoy?</p>

    <!-- Input de Consulta Rápida -->
    <div class="quick-assistant-form">
        <input class="quick-input"
               @bind="VM.Prompt"
               placeholder="Escribe tu consulta aquí..." />
        <button class="quick-submit" @onclick="VM.HandleQuickPrompt">
            ➔
        </button>
    </div>

    <!-- KPIs -->
    <div class="kpi-summary-grid">
        <div class="kpi-card">
            <p class="kpi-title">Ventas Hoy</p>
            <p class="kpi-value">$132,000</p>
            <p class="kpi-change up">↑ 5%</p>
        </div>

        <div class="kpi-card">
            <p class="kpi-title">Pedidos Pendientes</p>
            <p class="kpi-value">25</p>
            <p class="kpi-change down">↓ 3%</p>
        </div>

        <div class="kpi-card">
            <p class="kpi-title">Stock Crítico</p>
            <p class="kpi-value">8 productos</p>
        </div>
    </div>

    <!-- Mini Gráficos -->
    <div class="mini-charts-grid">
        <div class="mini-chart">
            📈 Ventas Últimos 7 días
        </div>
        <div class="mini-chart">
            📦 Stock Crítico
        </div>
    </div>

</div>
